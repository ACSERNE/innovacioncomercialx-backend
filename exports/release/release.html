<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <title>Release ComercialX Cockpit</title>
    <style>
      body { font-family: sans-serif; padding: 2rem; background: #f9f9f9; }
      h1, h2 { color: #333; }
      pre { background: #fff; padding: 1rem; border: 1px solid #ccc; overflow-x: auto; }
      .section { margin-bottom: 2rem; }
      .badge svg { width: 150px; }
      a.button, button { padding: 0.5rem 1rem; background: #0078D4; color: white; text-decoration: none; border-radius: 4px; margin-right: 1rem; display: inline-block; border: none; cursor: pointer; }
      iframe { width: 100%; height: 600px; border: 1px solid #ccc; }
    </style>
  </head>
  <body>
    <h1>🚀 Release cockpitizado: ComercialX</h1>

    <div class="section">
      <h2>📘 Changelog técnico</h2>
      <pre># 📘 Changelog ComercialX Cockpit

- ✅ Micrositios por acción y entorno generados
- 🏷️ Badges SVG por módulo y cobertura
- 📊 Dashboard visual extendido
- 📦 Exportaciones técnicas en CSV, JSON, YAML
- 🔍 Buscador visual interactivo
- 📟 Validación CI/CD visual</pre>
    </div>

    <div class="section">
      <h2>📦 ZIP de release</h2>
      <p>ZIP no disponible</p>
    </div>

    <div class="section">
      <h2>📊 Dashboard embebido</h2>
      <iframe src="../dashboard/dashboard.html"></iframe>
    </div>

    <div class="section">
      <h2>📟 Validación CI/CD visual</h2>
      <button onclick="validarPipeline()">Validar pipeline</button>
      <pre id="logVisual">Esperando validación...</pre>
    </div>

    <div class="section">
      <h2>📁 Exportaciones técnicas</h2>
      <a class="button" href="../dashboard/dashboard.csv" download>CSV</a>
      <a class="button" href="../dashboard/dashboard.json" download>JSON</a>
      <a class="button" href="../dashboard/dashboard.yaml" download>YAML</a>
    </div>

    <script>
    function validarPipeline() {
      const log = document.getElementById('logVisual');
      log.textContent = "🔄 Iniciando validación...\n";

      const pasos = [
        "🔍 Verificando entorno...",
        "📦 Validando exportaciones...",
        "🏷️ Verificando badges SVG...",
        "📘 Validando changelog...",
        "🚀 Simulando despliegue CI/CD...",
        "✅ Pipeline validado correctamente."
      ];

      let i = 0;
      const intervalo = setInterval(() => {
        if (i < pasos.length) {
          log.textContent += pasos[i] + "\n";
          i++;
        } else {
          clearInterval(intervalo);
        }
      }, 800);
    }
    </script>
  </body>
</html>
